@page
@model DnsProxy.Page.Rules.IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";   // берётся Pages/Shared/_Layout.cshtml
}
<h2>Правила</h2>
<a asp-page="Edit" class="btn btn-success mb-3">
  <i class="bi bi-plus-lg"></i> Добавить
</a>

<table class="table table-dark table-striped table-sm">
<thead>
<tr><th>Source IP</th><th>Домен</th><th>Action</th><th></th></tr>
</thead>
<tbody>
@foreach (var r in Model.Items)
{
  <tr>
    <td>@r.SourceIp</td>
    <td>@r.DomainPattern</td>
    <td>@r.Action</td>
    <td class="text-end">
      <a asp-page="Edit" asp-route-id="@r.Id" class="btn btn-sm btn-primary me-1">
        <i class="bi bi-pencil"></i>
      </a>
      <form method="post" asp-page-handler="Delete" asp-route-id="@r.Id"
            class="d-inline" onsubmit="return confirm('Удалить?');">
        <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button>
      </form>
    </td>
  </tr>
}
</tbody>
</table>
