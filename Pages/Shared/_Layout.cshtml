<!-- Pages/Shared/_Layout.cshtml -->
@using Microsoft.AspNetCore.Mvc.TagHelpers
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8"/>
    <title>DNS Proxy</title>

    <!-- Bootswatch (Darkly) -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.2/dist/darkly/bootstrap.min.css"/>

    <!-- Bootstrap-icons -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>

    <link rel="stylesheet" href="~/css/site.css"/>
</head>

<body class="bg-dark text-white">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary px-3 position-sticky top-0 z-3">

    <a class="navbar-brand fw-bold" asp-page="/Index">DNS Proxy</a>

    <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" asp-page="/Servers/Index">Серверы</a></li>
        <li class="nav-item"><a class="nav-link" asp-page="/Rules/Index">Правила</a></li>
        <li class="nav-item"><a class="nav-link" asp-page="/Logs/Index">Логи</a></li>
        <li class="nav-item"><a class="nav-link" asp-page="/Health/Index">Health</a></li>
            <li class="nav-item"><a class="nav-link" asp-page="/Cache/Index">Cache</a></li>
    </ul>

    <form class="ms-auto" method="post" action="/admin/flush"
          onsubmit="return confirm('Очистить кэш?');">
        <button type="submit" class="btn btn-warning btn-sm"
                title="Clear DNS cache">
            <i class="bi bi-arrow-clockwise"></i> Flush cache
        </button>
    </form>
</nav>

<div class="container mt-4">
    @RenderBody()
</div>
<script src="~/js/site.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
@RenderSection("Scripts", required: false)
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="saveToast" class="toast text-bg-success" role="alert">
            <div class="d-flex">
                <div class="toast-body">Сохранено!</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto"
                        data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>
</body>
</html>
